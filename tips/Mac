Mac 终端命令行提示符更改方法
2017年06月11日 14:14:42
阅读数：2359

    是否每次打开 Mac 上的终端，看着一长串的提示符让你很不爽。
    是否终端字体颜色都一样时，查找上一次的输入命令让你很抓狂。
    那么你是时候修改一波命令行提示符了～

    主要是通过~/.bash_profile文件更改环境变量PS1，修改命令行提示符的显示格式，并展示不同颜色，下面具体介绍。

基础知识

    Mac 中的一个重要的配置文件：
        /etc/profile: 每个用户登录时都会运行的环境变量设置.
        ~/.bash_profile: 每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行一次!默认情况下,它设置一些环境变量。
    要修改命令行提示符，需通过修改环境变量PS1来达到目的。
        命令列表的参数
            \u 显示当前用户的用户名（user name）
            \h 显示主机名（host name）
            \W 显示当前工作目录的名字（work directory）
            \w 当前所在的完整路径
            \$ 显示$符作为提示符，如果用户是root的话，则显示#号
            \d 现在的系统日期
            \t 现在的系统时间
        文本终端的颜色可以使用“ANSI非常规字符序列”来生成
            \033 引导非常规字符序列
            m 意味着设置属性然后结束非常规字符序列
            可以选择的编码如下所示:
            编码 颜色/动作
            0 重新设置属性到缺省设置
            1 设置粗体
            2 设置一半亮度（模拟彩色显示器的颜色）
            4 设置下划线（模拟彩色显示器的颜色）
            5 设置闪烁
            7 设置反向图象
            22 设置一般密度
            24 关闭下划线
            25 关闭闪烁
            27 关闭反向图象
            30 设置黑色前景
            31 设置红色前景
            32 设置绿色前景
            33 设置棕色前景
            34 设置蓝色前景
            35 设置紫色前景
            36 设置青色前景
            37 设置白色前景
            38 在缺省的前景颜色上设置下划线
            39 在缺省的前景颜色上关闭下划线
            40 设置黑色背景
            41 设置红色背景
            42 设置绿色背景
            43 设置棕色背景
            44 设置蓝色背景
            45 设置紫色背景
            46 设置青色背景
            47 设置白色背景
            49 设置缺省黑色背景 
        查看一下当前的PS1
        $ echo $PS1
        \h:\W \u\$

更改命令行提示符格式

    修改一下当前hostname，有时候起的名字像“XXXXMacBook-Pro”这样，太长了，看着很烦。
        查看hostname命令：
        XXXXMacBook-Pro:etc XXXX$ hostname
        XXXXMacBook-Pro.local
        修改hostname：
        打开系统偏好设置 - 共享, 修改计算机名字。

    修改命令提示符格式为[user@hostname] currentpath $

        根据上面基础知识介绍，我们可以在~/.bash_profile文件中修改PS1的代码(修改完候可通过source ~/.bash_profile使改动生效)：

        export PS1='[\u@\h] \W\$ '
            1

        改完生效候命令提示符的格式效果变成：

        [XXXX@Mac] ~ $ 
            1

        是不是看着清爽了很多。

    修改提示中一些文字颜色

        根据上面基础知识介绍，我们可以更改~/.bash_profile文件中PS1的代码(修改完候可通过source ~/.bash_profile使改动生效)：

        export PS1='\033[01;33m\][\u@\h ]\033[01;34m\]\W \[\033[01;36m\]\$\[\033[00m\] '
            1

        改完生效候命令提示符的格式效果变成：



        这样查历史命令就能方便点了，可能我设置的颜色比较不中看，你可以根据ANSI非常规字符序列不同的编码设置自己喜欢的效果。


